@page "/"
@using ChartJs.Blazor.PieChart

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.
<button class="btn btn-primary">Добавить</button>
<Chart Config="_pieConfig" @ref="_pieChart"></Chart>

@code {
    private PieConfig _pieConfig;
    private Chart _pieChart;    


    protected override void OnInitialized()
    {
        ConfigurePieConfig();
    }

    private void ConfigurePieConfig()
    {
        _pieConfig = new PieConfig();

        _pieConfig.Options = new PieOptions()
        {
            Responsive = true,
            Title = new OptionsTitle()
            {
                Display = true,
                Text = "Title My Chart"
            }
        };
        
        foreach (var party in new[] { "Party 1", "Party 2", "Party 3" })
        {
            _pieConfig.Data.Labels.Add(party);
        }

        var dataset = new PieDataset<int>([35, 50, 10, 5])
        {
            BackgroundColor = new[]
            {
                ColorUtil.ColorHexString(145, 63,156),
                ColorUtil.ColorHexString(255,174,173),
                ColorUtil.ColorHexString(165,24,46),
                ColorUtil.ColorHexString(146, 214,234)
            }
        };
        
        _pieConfig.Data.Datasets.Add(dataset);
    }

   
}